"use strict";(self["webpackChunkvision"]=self["webpackChunkvision"]||[]).push([[592],{627:function(e,o,t){t.d(o,{h:function(){return l}});var r=t(86);const l=(0,r.Q_)({id:"main",state:()=>({theme:"chalk"}),actions:{changeTheme(){this.theme="chalk"===this.theme?"vintage":"chalk"}}})},285:function(e,o,t){t.d(o,{J:function(){return a},s:function(){return l}});var r=t(242);function l(e,o){return null===e?null:o?r.S1(e,o):r.S1(e)}function a(e,o){r.je(e,o)}r.aW("chalk",{color:["#0ba82c","#2c6eff","#16f2d9","#fe211e","#fa6900","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],backgroundColor:"#222733",textStyle:{},title:{textStyle:{color:"#ffffff"},subtextStyle:{color:"#dddddd"}},line:{itemStyle:{normal:{borderWidth:"4"}},lineStyle:{normal:{width:"3"}},symbolSize:"0",symbol:"circle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:"4"}},lineStyle:{normal:{width:"3"}},symbolSize:"0",symbol:"circle",smooth:!0},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#fc97af",color0:"transparent",borderColor:"#fc97af",borderColor0:"#87f7cf",borderWidth:"2"}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:"1",color:"#ffffff"}},symbolSize:"0",symbol:"circle",smooth:!0,color:["#759aa0","#dd6b66","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],label:{normal:{textStyle:{color:"#293441"}}}},map:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#999999",borderWidth:.5},emphasis:{areaColor:"rgba(255,178,72,1)",borderColor:"#eb8146",borderWidth:1}},label:{normal:{textStyle:{color:"#893448"}},emphasis:{textStyle:{color:"rgb(137,52,72)"}}}},geo:{itemStyle:{normal:{areaColor:"#f3f3f3",borderColor:"#999999",borderWidth:.5},emphasis:{areaColor:"rgba(255,178,72,1)",borderColor:"#eb8146",borderWidth:1}},label:{normal:{textStyle:{color:"#893448"}},emphasis:{textStyle:{color:"rgb(137,52,72)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#999999"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#87f7cf",width:1},itemStyle:{normal:{color:"#87f7cf",borderWidth:1},emphasis:{color:"#f7f494"}},controlStyle:{normal:{color:"#87f7cf",borderColor:"#87f7cf",borderWidth:.5},emphasis:{color:"#87f7cf",borderColor:"#87f7cf",borderWidth:.5}},checkpointStyle:{color:"#fc97af",borderColor:"rgba(252,151,175,0.3)"},label:{normal:{textStyle:{color:"#87f7cf"}},emphasis:{textStyle:{color:"#87f7cf"}}}},visualMap:{color:["#fc97af","#87f7cf"]},dataZoom:{backgroundColor:"rgba(255,255,255,0)",dataBackgroundColor:"rgba(114,204,255,1)",fillerColor:"rgba(114,204,255,0.2)",handleColor:"#72ccff",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#293441"}},emphasis:{textStyle:{color:"#293441"}}}}}),r.aW("vintage",{color:["#0ba82c","#2c6eff","#16f2d9","#fe211e","#fa6900","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],backgroundColor:"#ffffff",textStyle:{},title:{textStyle:{color:"#333333"},subtextStyle:{color:"#aaa"}},line:{itemStyle:{normal:{borderWidth:"4"}},lineStyle:{normal:{width:"3"}},symbolSize:"0",symbol:"circle",smooth:!0},radar:{itemStyle:{normal:{borderWidth:1}},lineStyle:{normal:{width:2}},symbolSize:4,symbol:"emptyCircle",smooth:!1},bar:{itemStyle:{normal:{barBorderWidth:0,barBorderColor:"#ccc"},emphasis:{barBorderWidth:0,barBorderColor:"#ccc"}}},pie:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},scatter:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},boxplot:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},parallel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},sankey:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},funnel:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},gauge:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"},emphasis:{borderWidth:0,borderColor:"#ccc"}}},candlestick:{itemStyle:{normal:{color:"#c23531",color0:"#314656",borderColor:"#c23531",borderColor0:"#314656",borderWidth:1}}},graph:{itemStyle:{normal:{borderWidth:0,borderColor:"#ccc"}},lineStyle:{normal:{width:1,color:"#aaa"}},symbolSize:4,symbol:"emptyCircle",smooth:!1,color:["#d87c7c","#919e8b","#d7ab82","#6e7074","#61a0a8","#efa18d","#787464","#cc7e63","#724e58","#4b565b"],label:{normal:{textStyle:{color:"#eee"}}}},map:{itemStyle:{normal:{areaColor:"#eeeeee",borderColor:"#444444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444444",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},geo:{itemStyle:{normal:{areaColor:"#eeeeee",borderColor:"#444444",borderWidth:.5},emphasis:{areaColor:"rgba(255,215,0,0.8)",borderColor:"#444444",borderWidth:1}},label:{normal:{textStyle:{color:"#000000"}},emphasis:{textStyle:{color:"rgb(100,0,0)"}}}},categoryAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#999"}},splitLine:{show:!1,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},valueAxis:{axisLine:{show:!0,lineStyle:{color:"#666666"}},axisTick:{show:!1,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#aaaaaa"}},splitLine:{show:!1,lineStyle:{color:["#e6e6e6"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.05)","rgba(200,200,200,0.02)"]}}},logAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},timeAxis:{axisLine:{show:!0,lineStyle:{color:"#333"}},axisTick:{show:!0,lineStyle:{color:"#333"}},axisLabel:{show:!0,textStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{color:["#ccc"]}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},toolbox:{iconStyle:{normal:{borderColor:"#999999"},emphasis:{borderColor:"#666666"}}},legend:{textStyle:{color:"#333333"}},tooltip:{axisPointer:{lineStyle:{color:"#cccccc",width:1},crossStyle:{color:"#cccccc",width:1}}},timeline:{lineStyle:{color:"#293c55",width:1},itemStyle:{normal:{color:"#293c55",borderWidth:1},emphasis:{color:"#a9334c"}},controlStyle:{normal:{color:"#293c55",borderColor:"#293c55",borderWidth:.5},emphasis:{color:"#293c55",borderColor:"#293c55",borderWidth:.5}},checkpointStyle:{color:"#e43c59",borderColor:"rgba(194,53,49,0.5)"},label:{normal:{textStyle:{color:"#293c55"}},emphasis:{textStyle:{color:"#293c55"}}}},visualMap:{color:["#bf444c","#d88273","#f6efa6"]},dataZoom:{backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"rgba(47,69,84,0.3)",fillerColor:"rgba(167,183,204,0.4)",handleColor:"#a7b7cc",handleSize:"100%",textStyle:{color:"#333333"}},markPoint:{label:{normal:{textStyle:{color:"#eee"}},emphasis:{textStyle:{color:"#eee"}}}}})},90:function(e,o,t){t.d(o,{u:function(){return l}});const r={chalk:{backgroundColor:"#161522",titleColor:"#ffffff",titleBackGroundColor:"#000000",logoSrc:"logo_dark.png",themeSrc:"qiehuan_dark.png",headerBorderSrc:"header_border_dark.png"},vintage:{backgroundColor:"#eeeeee",titleColor:"#000000",titleBackGroundColor:"#ffffff",logoSrc:"logo_light2.png",themeSrc:"qiehuan_light.png",headerBorderSrc:"header_border_light.png"}};function l(e){return r[e]}},762:function(e,o,t){t.d(o,{Z:function(){return b}});var r=t(252),l=t(577),a=t(262),i=t(285),n=t(306),c=t(627),s=t(90);const d={class:"com-container"};var h=(0,r.aZ)({__name:"Hot",setup(e,{expose:o}){const t=(0,a.iH)(null);let h=null,m=(0,a.qj)([]);const u=(0,a.iH)(0),b=(0,r.Fl)((()=>m?m?.[u.value]?.name:"")),y=(0,a.iH)(0),p=(0,r.Fl)((()=>({fontSize:y.value+"px",color:(0,s.u)(f.value).titleColor}))),f=(0,r.Fl)((()=>(0,c.h)().theme));(0,r.YP)(f,(e=>{h?.dispose(),v(),x(),g()})),(0,r.wF)((()=>{(0,n.s)()?.registerCallback("hotData",S)})),(0,r.bv)((()=>{v(),(0,n.s)()?.send({action:"getData",socketType:"hotData",chartName:"hot",value:""}),window.addEventListener("resize",x),x()})),(0,r.ic)((()=>{g()})),(0,r.Ah)((()=>{window.removeEventListener("resize",x),(0,n.s)()?.unRegisterCallback("hotData")}));const v=()=>{h=(0,i.s)(t.value,f.value);const e={title:{text:"▎ 热销商品占比",top:20,left:20},legend:{top:"18%",icon:"circle"},tooltip:{show:!0,formatter:e=>{const o=e.data.children;let t=0;o.forEach((e=>{t+=e.value}));let r="";return o.forEach((e=>{r+=`\n            ${e.name}:${parseInt(e.value/t*100+"")+"%"}<br/>`})),r}},series:[{type:"pie",label:{show:!1},emphasis:{label:{show:!0},labelLine:{show:!1}}}]};h?.setOption(e)},S=async e=>{m=e,g()},g=()=>{const e=m?.[u.value]?.children.map((e=>e.name)),o=m?.[u.value]?.children.map((e=>({name:e.name,value:e.value,children:e.children}))),t={series:[{data:o}],legend:{show:!0,data:e}};h?.setOption(t)},x=()=>{y.value=(t.value?.offsetWidth??0)/100*3.6;const e={title:{textStyle:{fontSize:y.value}},legend:{itemWidth:y.value,itemHeight:y.value,itemGap:y.value/2,textStyle:{fontSize:y.value}},series:[{radius:4.5*y.value,center:["50%","60%"]}]};h?.setOption(e),h?.resize()},w=()=>{u.value--,u.value<0&&(u.value=(m?.length??1)-1),g()},C=()=>{u.value++,u.value>(m?.length??1)-1&&(u.value=0),g()};return o({screenAdapter:x}),(e,o)=>((0,r.wg)(),(0,r.iD)("div",d,[(0,r._)("div",{class:"com-chart",ref_key:"hot_ref",ref:t},null,512),(0,r._)("span",{class:"iconfont arr-left",onClick:w,style:(0,l.j5)((0,a.SU)(p))},"",4),(0,r._)("span",{class:"iconfont arr-right",onClick:C,style:(0,l.j5)((0,a.SU)(p))},"",4),(0,r._)("span",{class:"cat-name",style:(0,l.j5)((0,a.SU)(p))},(0,l.zw)((0,a.SU)(b)),5)]))}}),m=t(744);const u=(0,m.Z)(h,[["__scopeId","data-v-b180c3d2"]]);var b=u},717:function(e,o,t){t.d(o,{Z:function(){return m}});var r=t(252),l=t(262),a=t(285),i=t(306);const n={"安徽":"anhui","陕西":"shanxi1","澳门":"aomen","北京":"beijing","重庆":"chongqing","福建":"fujian","甘肃":"gansu","广东":"guangdong","广西":"guangxi","贵州":"guizhou","海南":"hainan","河北":"hebei","黑龙江":"heilongjiang","河南":"henan","湖北":"hubei","湖南":"hunan","江苏":"jiangsu","江西":"jiangxi","吉林":"jilin","辽宁":"liaoning","内蒙古":"neimenggu","宁夏":"ningxia","青海":"qinghai","山东":"shandong","上海":"shanghai","山西":"shanxi","四川":"sichuan","台湾":"taiwan","天津":"tianjin","香港":"xianggang","新疆":"xinjiang","西藏":"xizang","云南":"yunnan","浙江":"zhejiang"};function c(e){const o=Object.keys(n);if(!o.includes(e))return{key:"",path:""};const t=`/static/map/province/${n[e]}.json`;return{key:n[e],path:t}}var s=t(627),d=(0,r.aZ)({__name:"Map",setup(e,{expose:o}){const t=(0,l.iH)(null);let n=null,d=(0,l.qj)([]);const h={},m=(0,l.Fl)((()=>(0,s.h)().theme));(0,r.YP)(m,(e=>{n?.dispose(),u(),p(),y()})),(0,r.wF)((()=>{(0,i.s)()?.registerCallback("mapData",b)})),(0,r.bv)((()=>{u(),(0,i.s)()?.send({action:"getData",socketType:"mapData",chartName:"map",value:""}),window.addEventListener("resize",p),p()})),(0,r.Ah)((()=>{window.removeEventListener("resize",p),(0,i.s)()?.unRegisterCallback("mapData")}));const u=async()=>{n=(0,a.s)(t.value,m.value);const e=await(await fetch("./static/map/china.json",{mode:"no-cors",method:"get"})).json();(0,a.J)("china",e);const o={title:{text:"▎ 商家分布",left:20,top:20},geo:{type:"map",map:"china",top:"5%",bottom:"5%",itemStyle:{areaColor:"#2E72BF",borderColor:"#333"}},legend:{left:"5%",bottom:"5%",orient:"vertical"}};n?.setOption(o),n?.on("click",(e=>{const o=c(e.name);if(!o.key)return;const t={geo:{map:o.key}};h[o.key]?n?.setOption(t):fetch("."+o.path).then((e=>e.json())).then((e=>{const r=e;(0,a.J)(o.key,r),h[o.key]=r,n?.setOption(t)}))}))},b=async e=>{d=e,y(),p()},y=()=>{const e=d?.map((e=>({type:"effectScatter",name:e.name,data:e.children,coordinateSystem:"geo",rippleEffect:{scale:5,brushType:"stroke"}}))),o=d?.map((e=>e.name)),t={series:e,legend:{data:o}};n?.setOption(t)},p=()=>{(0,r.Y3)((()=>{const e=(t.value?.offsetWidth??0)/100*3.6,o={title:{textStyle:{fontSize:e}},legend:{itemWidth:e/2,itemHeight:e/2,itemGap:e/2,textStyle:{fontSize:e/3}}};n?.setOption(o),n?.resize()}))},f=()=>{const e={geo:{map:"china"}};n?.setOption(e)};return o({screenAdapter:p}),(e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"com-container",onDblclick:f},[(0,r._)("div",{class:"com-chart",ref_key:"mapEl",ref:t},null,512)],32))}});const h=d;var m=h},202:function(e,o,t){t.d(o,{Z:function(){return m}});var r=t(252),l=t(262),a=t(242),i=t(285),n=t(306),c=t(627);const s={class:"com-container"};var d=(0,r.aZ)({__name:"Rank",setup(e,{expose:o}){const t=(0,l.iH)(null);let d=null,h=(0,l.qj)([]);const m=(0,l.iH)(0),u=(0,l.iH)(9),b=(0,l.iH)(null),y=(0,l.Fl)((()=>(0,c.h)().theme));(0,r.YP)(y,(e=>{d?.dispose(),p(),S(),v()})),(0,r.wF)((()=>{(0,n.s)()?.registerCallback("rankData",f)})),(0,r.bv)((()=>{p(),(0,n.s)()?.send({action:"getData",socketType:"rankData",chartName:"rank",value:""}),S(),window.addEventListener("resize",S)})),(0,r.ic)((()=>{v()})),(0,r.Ah)((()=>{window.removeEventListener("resize",S),(0,n.s)()?.unRegisterCallback("rankData"),b.value&&clearInterval(b.value)}));const p=()=>{d=(0,i.s)(t.value,y.value);const e={title:{text:"▎ 地区销售排行",left:20,top:20},grid:{top:"40%",left:"5%",right:"5%",bottom:"5%",containLabel:!0},tooltip:{show:!0},xAxis:{type:"category"},yAxis:{type:"value"},series:[{type:"bar"}]};d?.setOption(e),d?.on("mouseover",(()=>{b.value&&clearInterval(b.value)})),d?.on("mouseout",(()=>{g()}))},f=async e=>{h=e,v(),g()},v=()=>{const e=[["#0BA82C","#4FF778"],["#2E72BF","#23E5E5"],["#5052EE","#AB6EE5"]];h?.sort(((e,o)=>o.value-e.value));const o=h?.map((e=>e.name)),t=h?.map((e=>e.value)),r={xAxis:{data:o},dataZoom:{show:!1,startValue:m.value,endValue:u.value},series:[{data:t,itemStyle:{color:o=>{let t=null;return t=o.data>=300?e[0]:o.data>=200?e[1]:e[2],new a.Q.o(0,0,0,1,[{offset:0,color:t[0]},{offset:1,color:t[1]}])}}}]};d?.setOption(r)},S=()=>{const e=(t.value?.offsetWidth??0)/100*3.6,o={title:{textStyle:{fontSize:e}},series:[{barWidth:e,itemStyle:{borderRadius:[e/2,e/2,0,0]}}]};d?.setOption(o),d?.resize()},g=()=>{b.value&&clearInterval(b.value),b.value=setInterval((()=>{m.value++,u.value++,u.value>(h?.length??1)-1&&(m.value=0,u.value=9),v()}),3e3)};return o({screenAdapter:S}),(e,o)=>((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",{class:"com-chart",ref_key:"rank_ref",ref:t},null,512)]))}});const h=d;var m=h},338:function(e,o,t){t.d(o,{Z:function(){return m}});var r=t(252),l=t(262),a=t(242),i=t(285),n=t(306),c=t(627);const s={class:"com-container"};var d=(0,r.aZ)({__name:"Seller",setup(e,{expose:o}){let t=null,d=(0,l.qj)([]);const h=(0,l.iH)(null),m=(0,l.iH)(1),u=(0,l.iH)(0);let b=null;const y=(0,r.Fl)((()=>(0,c.h)().theme));(0,r.YP)(y,(e=>{t?.dispose(),p(),g(),v()})),(0,r.wF)((()=>{(0,n.s)()?.registerCallback("sellerData",f)})),(0,r.bv)((()=>{p(),(0,n.s)()?.send({action:"getData",socketType:"sellerData",chartName:"seller",value:""}),window.addEventListener("resize",g)})),(0,r.Ah)((()=>{b&&clearInterval(b),window.removeEventListener("resize",g),(0,n.s)()?.unRegisterCallback("trendData")}));const p=()=>{t=(0,i.s)(h.value,y.value);const e={title:{text:"┃ 商家销售统计",textStyle:{fontSize:66},left:20,top:20},tooltip:{trigger:"axis",axisPointer:{type:"line",z:0,lineStyle:{width:66,color:"#2D3443"}}},grid:{top:"20%",left:"3%",right:"6%",bottom:"3%",containLabel:!0},xAxis:{type:"value"},yAxis:{type:"category"},series:[{type:"bar",label:{show:!0,position:"right",color:"white"},itemStyle:{color:new a.Q.o(0,0,1,0,[{offset:0,color:"#5052EE"},{offset:1,color:"#AB6EE5"}])}}]};t?.setOption(e),t?.on("mouseover",(()=>{clearInterval(b)})),t?.on("mouseout",(()=>{S()}))},f=async e=>{d=e,d?.sort(((e,o)=>e.value-o.value)),u.value=d?.length%5===0?d.length/5:d.length/5+1,v(),g(),S()},v=()=>{const e=5*(m.value-1),o=5*m.value,r=d?.slice(e,o),l=r.map((e=>e.name)),a=r.map((e=>e.value)),i={yAxis:{data:l},series:[{data:a}]};t?.setOption(i)},S=()=>{b&&clearInterval(b),b=setInterval((()=>{m.value++,m.value>u.value&&(m.value=1),v()}),3e3)},g=()=>{const e=(h.value?.offsetWidth??0)/100*3.6,o={title:{textStyle:{fontSize:e}},tooltip:{axisPointer:{lineStyle:{width:e,color:"#2D3443"}}},series:[{barWidth:e,itemStyle:{borderRadius:[0,e/2,e/2,0]}}]};t?.setOption(o),t?.resize()};return o({screenAdapter:g}),(e,o)=>((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",{class:"com-chart",ref_key:"seller",ref:h},null,512)]))}});const h=d;var m=h},172:function(e,o,t){t.d(o,{Z:function(){return m}});var r=t(252),l=t(262),a=t(242),i=t(285),n=t(306),c=t(627);const s={class:"com-container"};var d=(0,r.aZ)({__name:"Stock",setup(e,{expose:o}){const t=(0,l.iH)(null);let d=null;const h=(0,l.iH)([]),m=(0,l.iH)(null),u=(0,l.Fl)((()=>(0,c.h)().theme));(0,r.YP)(u,(e=>{d?.dispose(),b(),S(),v()})),(0,r.wF)((()=>{(0,n.s)()?.registerCallback("stockData",y)})),(0,r.bv)((()=>{b(),(0,n.s)()?.send({action:"getData",socketType:"stockData",chartName:"stock",value:""}),window.addEventListener("resize",S)})),(0,r.Ah)((()=>{window.removeEventListener("resize",S),(0,n.s)()?.unRegisterCallback("stockData"),m.value&&clearInterval(m.value)}));const b=()=>{d=(0,i.s)(t.value,u.value);const e={title:{text:"▎ 库存和销量分析",top:20,left:20}};d?.setOption(e),d?.on("mouseover",(()=>{m.value&&clearInterval(m.value)})),d?.on("mouseout",(()=>{g()}))},y=async e=>{h.value=e,v(),g(),S()},p=(0,l.iH)([]),f=(0,l.iH)(0),v=()=>{const e=[["18%","40%"],["50%","40%"],["82%","40%"],["34%","75%"],["66%","75%"]],o=[["#4FF778","#0BA82C"],["#E5DD45","#E8B11C"],["#E8821C","#E55445"],["#5052EE","#AB6EE5"],["#23E5E5","#2E72BF"]],t=h.value,r=5*f.value,l=5*(f.value+1);p.value=t?.slice(r,l);const i=p.value?.map(((t,r)=>{const l={type:"pie",radius:[110,"100"],center:e[r],hoverAnimation:!1,labelLine:{show:!1},label:{position:"center",color:o[r][0],formatter:function(e){return t.name+"\n\n"+t.sales}},emphasis:{label:{show:!0,color:o[r][0],formatter:function(e){return t.name+"\n\n"+t.sales}}},data:[{name:t.name,value:t.sales,itemStyle:{color:new a.Q.o(0,1,0,0,[{offset:0,color:o[r][0]},{offset:1,color:o[r][1]}])}},{value:t.stock,itemStyle:{color:"#333843"}}]};return l})),n={series:i};d?.setOption(n)},S=()=>{const e=(t.value?.offsetWidth??0)/100*3.6,o=2.8*e,r=1.125*o,l=p.value.map((t=>{const l={type:"pie",radius:[r,o],label:{fontSize:e/2}};return l})),a={title:{textStyle:{fontSize:e}},series:l};d?.setOption(a),d?.resize()},g=()=>{m.value&&clearInterval(m.value),m.value=setInterval((()=>{f.value++,f.value>1&&(f.value=0),v(),S()}),5e3)};return o({screenAdapter:S}),(e,o)=>((0,r.wg)(),(0,r.iD)("div",s,[(0,r._)("div",{class:"com-chart",ref_key:"stock_ref",ref:t},null,512)]))}});const h=d;var m=h},754:function(e,o,t){t.d(o,{Z:function(){return f}});var r=t(252),l=t(577),a=t(262),i=t(963),n=t(242),c=t(285),s=t(306),d=t(627),h=t(90);const m={class:"com-container"},u=["onClick"];var b=(0,r.aZ)({__name:"Trend",setup(e,{expose:o}){const t=(0,a.iH)(null);let b=null,y=(0,a.iH)(null),p=(0,a.iH)(!1),f=(0,a.iH)("map");const v=(0,r.Fl)((()=>y.value?y.value?.type.filter((e=>e.key!==f.value)):[])),S=(0,r.Fl)((()=>{if(y.value){const e=y.value.type.filter((e=>e.key===f.value));return e?.[0].text}return""})),g=(0,r.Fl)((()=>({fontSize:w.value+"px",color:(0,h.u)(C.value).titleColor}))),x=(0,r.Fl)((()=>({marginLeft:w.value+"px",backGroundColor:(0,h.u)(C.value).titleBackGroundColor}))),w=(0,a.iH)(0),C=(0,r.Fl)((()=>(0,d.h)().theme));(0,r.YP)(C,(e=>{b?.dispose(),k(),z(),_()})),(0,r.wF)((()=>{(0,s.s)()?.registerCallback("trendData",W)})),(0,r.bv)((()=>{k(),(0,s.s)()?.send({action:"getData",socketType:"trendData",chartName:"trend",value:""}),window.addEventListener("resize",z)})),(0,r.Ah)((()=>{window.removeEventListener("resize",z),(0,s.s)()?.unRegisterCallback("trendData")}));const k=()=>{b=(0,c.s)(t.value,C.value);const e={grid:{left:"3%",top:"35%",right:"4%",bottom:"1%",containLabel:!0},tooltip:{trigger:"axis"},legend:{left:"20px",top:"20%",icon:"circle"},xAxis:{type:"category",boundaryGap:!1},yAxis:{type:"value"}};b?.setOption(e),z()},W=async e=>{y.value=e,_()},_=()=>{const e=["rgba(11, 168, 44, 0.5)","rgba(44, 110, 255, 0.5)","rgba(22, 242, 217, 0.5)","rgba(254, 33, 30, 0.5)","rgba(250, 105, 0, 0.5)"],o=["rgba(11, 168, 44, 0)","rgba(44, 110, 255, 0)","rgba(22, 242, 217, 0)","rgba(254, 33, 30, 0)","rgba(250, 105, 0, 0)"],t=y.value,r=t?.common.month,l=t?.[f.value].data,a=l.map(((t,r)=>{const l={name:t.name,type:"line",data:t.data,stack:"map",areaStyle:{color:new n.Q.o(0,0,0,1,[{offset:0,color:e[r]},{offset:1,color:o[r]}])}};return l})),i=l.map((e=>e.name)),c={xAxis:{data:r},legend:{data:i},series:a};b?.setOption(c)},z=()=>{w.value=(t.value?.offsetWidth??0)/100*3.6;const e={legend:{itemWidth:w.value,itemHeight:w.value,itemGap:w.value,textStyle:{fontSize:w.value/2}}};b?.setOption(e),b?.resize()},A=e=>{f.value=e,_(),p.value=!1};return o({screenAdapter:z}),(e,o)=>((0,r.wg)(),(0,r.iD)("div",m,[(0,r._)("div",{class:"title",style:(0,l.j5)((0,a.SU)(g))},[(0,r._)("span",null,(0,l.zw)("▎ "+(0,a.SU)(S)),1),(0,r._)("span",{class:"iconfont title-icon",style:(0,l.j5)((0,a.SU)(g)),onClick:o[0]||(o[0]=e=>(0,a.dq)(p)?p.value=!(0,a.SU)(p):p=!(0,a.SU)(p))},"",4),(0,r.wy)((0,r._)("div",{class:"select-con",style:(0,l.j5)((0,a.SU)(x))},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,a.SU)(v),((e,o)=>((0,r.wg)(),(0,r.iD)("div",{class:"select-item",key:e.key,onClick:o=>A(e.key)},(0,l.zw)(e.text),9,u)))),128))],4),[[i.F8,(0,a.SU)(p)]])],4),(0,r._)("div",{class:"com-chart",ref_key:"trend",ref:t},null,512)]))}}),y=t(744);const p=(0,y.Z)(b,[["__scopeId","data-v-04992a43"]]);var f=p}}]);